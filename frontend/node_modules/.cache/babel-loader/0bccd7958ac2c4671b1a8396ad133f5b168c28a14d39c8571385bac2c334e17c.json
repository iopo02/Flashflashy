{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createBlock as _createBlock, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\"\n};\nconst _hoisted_2 = {\n  class: \"app-header\"\n};\nconst _hoisted_3 = {\n  class: \"header-container\"\n};\nconst _hoisted_4 = {\n  class: \"header-left\"\n};\nconst _hoisted_5 = {\n  class: \"header-nav\"\n};\nconst _hoisted_6 = {\n  class: \"user-info\"\n};\nconst _hoisted_7 = [\"title\"];\nconst _hoisted_8 = {\n  class: \"app-main\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"header\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"logo\"\n  }, {\n    default: _withCtx(() => [...(_cache[2] || (_cache[2] = [_createTextVNode(\"Flashflashy\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"nav\", _hoisted_5, [!$options.isLoggedIn ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createVNode(_component_router_link, {\n    to: \"/login\",\n    class: \"nav-link\"\n  }, {\n    default: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createTextVNode(\"Sign In\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_router_link, {\n    to: \"/register\",\n    class: \"nav-link\"\n  }, {\n    default: _withCtx(() => [...(_cache[4] || (_cache[4] = [_createTextVNode(\"Register\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })], 64 /* STABLE_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createVNode(_component_router_link, {\n    to: \"/decks\",\n    class: \"nav-link\"\n  }, {\n    default: _withCtx(() => [...(_cache[5] || (_cache[5] = [_createTextVNode(\"My Decks\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"span\", _hoisted_6, _toDisplayString($data.currentUser?.username), 1 /* TEXT */), $options.isAdmin ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 0,\n    to: \"/admin\",\n    class: \"nav-link\"\n  }, {\n    default: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createTextVNode(\"Admin\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.handleLogout && $options.handleLogout(...args), [\"prevent\"])),\n    class: \"nav-link logout-link\"\n  }, \"Sign Out\")], 64 /* STABLE_FRAGMENT */)), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.toggleDarkMode && $options.toggleDarkMode(...args)),\n    class: \"dark-mode-toggle\",\n    title: $data.isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'\n  }, _toDisplayString($data.isDarkMode ? '‚òÄÔ∏è' : 'üåô'), 9 /* TEXT, PROPS */, _hoisted_7)])])]), _createElementVNode(\"main\", _hoisted_8, [_createVNode(_component_router_view)])]);\n}","map":{"version":3,"names":["id","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","to","_cache","_hoisted_5","$options","isLoggedIn","_Fragment","key","_hoisted_6","_toDisplayString","$data","currentUser","username","isAdmin","_createBlock","href","onClick","_withModifiers","args","handleLogout","toggleDarkMode","title","isDarkMode","_hoisted_7","_hoisted_8","_component_router_view"],"sources":["C:\\Users\\compu\\Desktop\\Flashflashy\\frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <header class=\"app-header\">\n      <div class=\"header-container\">\n        <div class=\"header-left\">\n          <router-link to=\"/\" class=\"logo\">Flashflashy</router-link>\n        </div>\n        <nav class=\"header-nav\">\n          <template v-if=\"!isLoggedIn\">\n            <router-link to=\"/login\" class=\"nav-link\">Sign In</router-link>\n            <router-link to=\"/register\" class=\"nav-link\">Register</router-link>\n          </template>\n          <template v-else>\n            <router-link to=\"/decks\" class=\"nav-link\">My Decks</router-link>\n            <span class=\"user-info\">{{ currentUser?.username }}</span>\n            <template v-if=\"isAdmin\">\n              <router-link to=\"/admin\" class=\"nav-link\">Admin</router-link>\n            </template>\n            <a href=\"#\" @click.prevent=\"handleLogout\" class=\"nav-link logout-link\">Sign Out</a>\n          </template>\n          <button @click=\"toggleDarkMode\" class=\"dark-mode-toggle\" :title=\"isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'\">\n            {{ isDarkMode ? '‚òÄÔ∏è' : 'üåô' }}\n          </button>\n        </nav>\n      </div>\n    </header>\n    <main class=\"app-main\">\n      <router-view />\n    </main>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  data() {\n    return {\n      currentUser: null,\n      isDarkMode: false,\n    };\n  },\n  computed: {\n    isLoggedIn() {\n      return this.currentUser !== null;\n    },\n    isAdmin() {\n      return this.currentUser?.isAdmin === true;\n    },\n  },\n  mounted() {\n    this.loadUser();\n    this.loadDarkMode();\n    // Listen for storage changes (when user logs in from another tab)\n    window.addEventListener('storage', this.handleStorageChange);\n    // Listen for custom login event (same tab)\n    window.addEventListener('userLogin', this.loadUser);\n  },\n  beforeUnmount() {\n    window.removeEventListener('storage', this.handleStorageChange);\n    window.removeEventListener('userLogin', this.loadUser);\n  },\n  methods: {\n    loadUser() {\n      const userStr = localStorage.getItem('user');\n      if (userStr) {\n        try {\n          this.currentUser = JSON.parse(userStr);\n        } catch (error) {\n          console.error('Error parsing user data:', error);\n          localStorage.removeItem('user');\n          localStorage.removeItem('userId');\n        }\n      } else {\n        this.currentUser = null;\n      }\n    },\n    handleStorageChange(event) {\n      if (event.key === 'user') {\n        this.loadUser();\n      }\n    },\n    handleLogout() {\n      localStorage.removeItem('user');\n      localStorage.removeItem('userId');\n      localStorage.removeItem('adminUserId');\n      this.currentUser = null;\n      this.$router.push('/');\n    },\n    loadDarkMode() {\n      const saved = localStorage.getItem('darkMode');\n      this.isDarkMode = saved === 'true';\n      this.applyDarkMode();\n    },\n    toggleDarkMode() {\n      this.isDarkMode = !this.isDarkMode;\n      localStorage.setItem('darkMode', this.isDarkMode.toString());\n      this.applyDarkMode();\n    },\n    applyDarkMode() {\n      if (this.isDarkMode) {\n        document.documentElement.classList.add('dark-mode');\n      } else {\n        document.documentElement.classList.remove('dark-mode');\n      }\n    },\n  },\n  watch: {\n    // Watch for route changes to update user data\n    $route() {\n      this.loadUser();\n    },\n  },\n};\n</script>\n\n<style>\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n:root {\n  --bg-primary: #ffffff;\n  --bg-secondary: #f5f5f5;\n  --text-primary: #232f3e;\n  --text-secondary: #767676;\n  --border-color: #e0e0e0;\n  --header-bg: #232f3e;\n  --header-text: #ffffff;\n  --accent-color: #ff9900;\n  --accent-hover: #e88900;\n  --card-bg: #ffffff;\n  --card-border: #e0e0e0;\n}\n\n.dark-mode {\n  --bg-primary: #1a1a1a;\n  --bg-secondary: #2d2d2d;\n  --text-primary: #e0e0e0;\n  --text-secondary: #a0a0a0;\n  --border-color: #404040;\n  --header-bg: #0f1419;\n  --header-text: #ffffff;\n  --accent-color: #ff9900;\n  --accent-hover: #e88900;\n  --card-bg: #2d2d2d;\n  --card-border: #404040;\n}\n\n#app {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  min-height: 100vh;\n  background-color: var(--bg-primary);\n  color: var(--text-primary);\n  transition: background-color 0.3s, color 0.3s;\n}\n\n.app-header {\n  background-color: var(--header-bg);\n  color: var(--header-text);\n  padding: 0;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  position: sticky;\n  top: 0;\n  z-index: 1000;\n}\n\n.header-container {\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 12px 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n}\n\n.logo {\n  font-size: 20px;\n  font-weight: 600;\n  color: #ffffff;\n  text-decoration: none;\n  letter-spacing: -0.5px;\n}\n\n.header-nav {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n}\n\n.nav-link {\n  color: #ffffff;\n  text-decoration: none;\n  font-size: 14px;\n  font-weight: 400;\n  padding: 6px 0;\n  transition: opacity 0.2s;\n}\n\n.nav-link:hover {\n  opacity: 0.8;\n}\n\n.nav-link.router-link-exact-active {\n  font-weight: 600;\n}\n\n.user-info {\n  color: #ffffff;\n  font-size: 14px;\n  font-weight: 500;\n  padding: 0 8px;\n}\n\n.logout-link {\n  cursor: pointer;\n}\n\n.app-main {\n  min-height: calc(100vh - 60px);\n  background-color: #ffffff;\n}\n</style>\n\n"],"mappings":";;EACOA,EAAE,EAAC;AAAK;;EACHC,KAAK,EAAC;AAAY;;EACnBA,KAAK,EAAC;AAAkB;;EACtBA,KAAK,EAAC;AAAa;;EAGnBA,KAAK,EAAC;AAAY;;EAObA,KAAK,EAAC;AAAW;;;EAYzBA,KAAK,EAAC;AAAU;;;;uBAzBxBC,mBAAA,CA4BM,OA5BNC,UA4BM,GA3BJC,mBAAA,CAuBS,UAvBTC,UAuBS,GAtBPD,mBAAA,CAqBM,OArBNE,UAqBM,GApBJF,mBAAA,CAEM,OAFNG,UAEM,GADJC,YAAA,CAA0DC,sBAAA;IAA7CC,EAAE,EAAC,GAAG;IAACT,KAAK,EAAC;;sBAAO,MAAW,KAAAU,MAAA,QAAAA,MAAA,O,iBAAX,aAAW,mB;;QAE9CP,mBAAA,CAgBM,OAhBNQ,UAgBM,G,CAfaC,QAAA,CAAAC,UAAU,I,cAA3BZ,mBAAA,CAGWa,SAAA;IAAAC,GAAA;EAAA,IAFTR,YAAA,CAA+DC,sBAAA;IAAlDC,EAAE,EAAC,QAAQ;IAACT,KAAK,EAAC;;sBAAW,MAAO,KAAAU,MAAA,QAAAA,MAAA,O,iBAAP,SAAO,mB;;MACjDH,YAAA,CAAmEC,sBAAA;IAAtDC,EAAE,EAAC,WAAW;IAACT,KAAK,EAAC;;sBAAW,MAAQ,KAAAU,MAAA,QAAAA,MAAA,O,iBAAR,UAAQ,mB;;mDAEvDT,mBAAA,CAOWa,SAAA;IAAAC,GAAA;EAAA,IANTR,YAAA,CAAgEC,sBAAA;IAAnDC,EAAE,EAAC,QAAQ;IAACT,KAAK,EAAC;;sBAAW,MAAQ,KAAAU,MAAA,QAAAA,MAAA,O,iBAAR,UAAQ,mB;;MAClDP,mBAAA,CAA0D,QAA1Da,UAA0D,EAAAC,gBAAA,CAA/BC,KAAA,CAAAC,WAAW,EAAEC,QAAQ,kBAChCR,QAAA,CAAAS,OAAO,I,cACrBC,YAAA,CAA6Dd,sBAAA;;IAAhDC,EAAE,EAAC,QAAQ;IAACT,KAAK,EAAC;;sBAAW,MAAK,KAAAU,MAAA,QAAAA,MAAA,O,iBAAL,OAAK,mB;;2CAEjDP,mBAAA,CAAmF;IAAhFoB,IAAI,EAAC,GAAG;IAAEC,OAAK,EAAAd,MAAA,QAAAA,MAAA,MAAAe,cAAA,KAAAC,IAAA,KAAUd,QAAA,CAAAe,YAAA,IAAAf,QAAA,CAAAe,YAAA,IAAAD,IAAA,CAAY;IAAE1B,KAAK,EAAC;KAAuB,UAAQ,E,8BAEjFG,mBAAA,CAES;IAFAqB,OAAK,EAAAd,MAAA,QAAAA,MAAA,UAAAgB,IAAA,KAAEd,QAAA,CAAAgB,cAAA,IAAAhB,QAAA,CAAAgB,cAAA,IAAAF,IAAA,CAAc;IAAE1B,KAAK,EAAC,kBAAkB;IAAE6B,KAAK,EAAEX,KAAA,CAAAY,UAAU;sBACtEZ,KAAA,CAAAY,UAAU,sCAAAC,UAAA,E,OAKrB5B,mBAAA,CAEO,QAFP6B,UAEO,GADLzB,YAAA,CAAe0B,sBAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}