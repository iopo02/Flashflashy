{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'StudyPage',\n  data() {\n    return {\n      deck: null,\n      cards: [],\n      currentCardIndex: 0,\n      isFlipped: false,\n      loading: false,\n      selectedRating: null,\n      ratingInProgress: false\n    };\n  },\n  computed: {\n    currentCard() {\n      return this.cards[this.currentCardIndex] || null;\n    },\n    totalCards() {\n      return this.cards.length;\n    }\n  },\n  mounted() {\n    this.fetchDeck();\n    // Add keyboard event listeners\n    window.addEventListener('keydown', this.handleKeyPress);\n  },\n  beforeUnmount() {\n    // Remove keyboard event listeners\n    window.removeEventListener('keydown', this.handleKeyPress);\n  },\n  methods: {\n    async fetchDeck() {\n      this.loading = true;\n      try {\n        const userId = localStorage.getItem('userId');\n        const deckId = this.$route.params.deckId;\n        const response = await axios.get(`/decks/${deckId}`, {\n          params: {\n            userId\n          }\n        });\n        this.deck = response.data.deck;\n        this.cards = this.shuffleArray([...response.data.cards]);\n        if (this.cards.length === 0) {\n          return;\n        }\n        this.currentCardIndex = 0;\n      } catch (error) {\n        console.error('Error fetching deck:', error);\n        if (error.response?.status === 404) {\n          this.$router.push('/decks');\n        } else if (error.response?.status === 401) {\n          this.$router.push('/login');\n        }\n      } finally {\n        this.loading = false;\n      }\n    },\n    shuffleArray(array) {\n      // Fisher-Yates shuffle algorithm\n      const shuffled = [...array];\n      for (let i = shuffled.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n      }\n      return shuffled;\n    },\n    flipCard() {\n      if (!this.isFlipped) {\n        this.isFlipped = true;\n        this.selectedRating = null;\n      }\n    },\n    async rateCard(rating) {\n      if (this.ratingInProgress || !this.currentCard) return;\n      this.selectedRating = rating;\n      this.ratingInProgress = true;\n      try {\n        const userId = localStorage.getItem('userId');\n        await axios.patch(`/cards/${this.currentCard._id}/rate`, {\n          rating,\n          userId\n        }, {\n          params: {\n            userId\n          }\n        });\n\n        // Move to next card after a short delay\n        setTimeout(() => {\n          this.nextCard();\n        }, 300);\n      } catch (error) {\n        console.error('Error rating card:', error);\n        alert(error.response?.data?.message || 'Error rating card');\n        this.ratingInProgress = false;\n        this.selectedRating = null;\n      }\n    },\n    nextCard() {\n      this.ratingInProgress = false;\n      this.selectedRating = null;\n      this.isFlipped = false;\n\n      // Move to next card\n      if (this.currentCardIndex < this.cards.length - 1) {\n        this.currentCardIndex++;\n      } else {\n        // All cards reviewed, shuffle and start over\n        this.cards = this.shuffleArray([...this.cards]);\n        this.currentCardIndex = 0;\n      }\n    },\n    handleKeyPress(event) {\n      // Don't handle if typing in an input field\n      if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA') {\n        return;\n      }\n\n      // Space to flip card\n      if (event.key === ' ' && !this.isFlipped) {\n        event.preventDefault();\n        this.flipCard();\n        return;\n      }\n\n      // Number keys 1-4 to rate card (only when flipped)\n      if (this.isFlipped && !this.ratingInProgress) {\n        if (event.key === '1') {\n          event.preventDefault();\n          this.rateCard(1);\n        } else if (event.key === '2') {\n          event.preventDefault();\n          this.rateCard(2);\n        } else if (event.key === '3') {\n          event.preventDefault();\n          this.rateCard(3);\n        } else if (event.key === '4') {\n          event.preventDefault();\n          this.rateCard(4);\n        }\n      }\n    },\n    goBack() {\n      this.$router.push(`/decks/${this.$route.params.deckId}/edit`);\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","deck","cards","currentCardIndex","isFlipped","loading","selectedRating","ratingInProgress","computed","currentCard","totalCards","length","mounted","fetchDeck","window","addEventListener","handleKeyPress","beforeUnmount","removeEventListener","methods","userId","localStorage","getItem","deckId","$route","params","response","get","shuffleArray","error","console","status","$router","push","array","shuffled","i","j","Math","floor","random","flipCard","rateCard","rating","patch","_id","setTimeout","nextCard","alert","message","event","target","tagName","key","preventDefault","goBack"],"sources":["C:\\Users\\compu\\Desktop\\Flashflashy\\frontend\\src\\views\\StudyPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"study-page\">\r\n    <div class=\"study-container\">\r\n      <!-- Header -->\r\n      <div class=\"study-header\">\r\n        <button @click=\"goBack\" class=\"back-btn\">‚Üê Back to Deck</button>\r\n        <div class=\"progress-info\">\r\n          <span>Card {{ currentCardIndex + 1 }} of {{ totalCards }}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Loading State -->\r\n      <div v-if=\"loading\" class=\"loading\">Loading deck...</div>\r\n\r\n      <!-- No Cards State -->\r\n      <div v-else-if=\"cards.length === 0\" class=\"no-cards\">\r\n        <p>This deck has no cards to study.</p>\r\n        <button @click=\"goBack\" class=\"back-btn\">Go Back</button>\r\n      </div>\r\n\r\n      <!-- Study Interface -->\r\n      <div v-else class=\"study-interface\">\r\n        <!-- Card Display -->\r\n        <div class=\"card-display\" :class=\"{ 'flipped': isFlipped }\">\r\n          <div class=\"card-inner\">\r\n            <div class=\"card-front\">\r\n              <div class=\"card-content\">\r\n                <div class=\"card-label\">Question</div>\r\n                <div class=\"card-text\">{{ currentCard.front || '(Empty)' }}</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-back\">\r\n              <div class=\"card-content\">\r\n                <div class=\"card-label\">Answer</div>\r\n                <div class=\"card-text\">{{ currentCard.back || '(Empty)' }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Flip Button (shown when not flipped) -->\r\n        <div v-if=\"!isFlipped\" class=\"action-section\">\r\n          <button @click=\"flipCard\" class=\"flip-btn\" @keydown.space.prevent=\"flipCard\">\r\n            <span>Show Answer</span>\r\n            <span class=\"keyboard-hint\">(Space)</span>\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Rating Buttons (shown when flipped) -->\r\n        <div v-else class=\"rating-section\">\r\n          <p class=\"rating-prompt\">How well did you know this?</p>\r\n          <div class=\"rating-buttons\">\r\n            <button\r\n              @click=\"rateCard(1)\"\r\n              class=\"rating-btn again\"\r\n              :class=\"{ 'active': selectedRating === 1 }\"\r\n            >\r\n              <span class=\"rating-number\">1</span>\r\n              <span class=\"rating-label\">Again</span>\r\n              <span class=\"keyboard-hint\">(1)</span>\r\n            </button>\r\n            <button\r\n              @click=\"rateCard(2)\"\r\n              class=\"rating-btn hard\"\r\n              :class=\"{ 'active': selectedRating === 2 }\"\r\n            >\r\n              <span class=\"rating-number\">2</span>\r\n              <span class=\"rating-label\">Hard</span>\r\n              <span class=\"keyboard-hint\">(2)</span>\r\n            </button>\r\n            <button\r\n              @click=\"rateCard(3)\"\r\n              class=\"rating-btn good\"\r\n              :class=\"{ 'active': selectedRating === 3 }\"\r\n            >\r\n              <span class=\"rating-number\">3</span>\r\n              <span class=\"rating-label\">Good</span>\r\n              <span class=\"keyboard-hint\">(3)</span>\r\n            </button>\r\n            <button\r\n              @click=\"rateCard(4)\"\r\n              class=\"rating-btn easy\"\r\n              :class=\"{ 'active': selectedRating === 4 }\"\r\n            >\r\n              <span class=\"rating-number\">4</span>\r\n              <span class=\"rating-label\">Easy</span>\r\n              <span class=\"keyboard-hint\">(4)</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Keyboard Shortcuts Help -->\r\n        <div class=\"keyboard-help\">\r\n          <p><strong>Keyboard Shortcuts:</strong></p>\r\n          <p v-if=\"!isFlipped\">Press <kbd>Space</kbd> to flip the card</p>\r\n          <p v-else>Press <kbd>1</kbd> Again | <kbd>2</kbd> Hard | <kbd>3</kbd> Good | <kbd>4</kbd> Easy</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'StudyPage',\r\n  data() {\r\n    return {\r\n      deck: null,\r\n      cards: [],\r\n      currentCardIndex: 0,\r\n      isFlipped: false,\r\n      loading: false,\r\n      selectedRating: null,\r\n      ratingInProgress: false,\r\n    };\r\n  },\r\n  computed: {\r\n    currentCard() {\r\n      return this.cards[this.currentCardIndex] || null;\r\n    },\r\n    totalCards() {\r\n      return this.cards.length;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchDeck();\r\n    // Add keyboard event listeners\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  },\r\n  beforeUnmount() {\r\n    // Remove keyboard event listeners\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  },\r\n  methods: {\r\n    async fetchDeck() {\r\n      this.loading = true;\r\n      try {\r\n        const userId = localStorage.getItem('userId');\r\n        const deckId = this.$route.params.deckId;\r\n        const response = await axios.get(`/decks/${deckId}`, {\r\n          params: { userId },\r\n        });\r\n        this.deck = response.data.deck;\r\n        this.cards = this.shuffleArray([...response.data.cards]);\r\n        \r\n        if (this.cards.length === 0) {\r\n          return;\r\n        }\r\n        \r\n        this.currentCardIndex = 0;\r\n      } catch (error) {\r\n        console.error('Error fetching deck:', error);\r\n        if (error.response?.status === 404) {\r\n          this.$router.push('/decks');\r\n        } else if (error.response?.status === 401) {\r\n          this.$router.push('/login');\r\n        }\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    shuffleArray(array) {\r\n      // Fisher-Yates shuffle algorithm\r\n      const shuffled = [...array];\r\n      for (let i = shuffled.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\r\n      }\r\n      return shuffled;\r\n    },\r\n    flipCard() {\r\n      if (!this.isFlipped) {\r\n        this.isFlipped = true;\r\n        this.selectedRating = null;\r\n      }\r\n    },\r\n    async rateCard(rating) {\r\n      if (this.ratingInProgress || !this.currentCard) return;\r\n      \r\n      this.selectedRating = rating;\r\n      this.ratingInProgress = true;\r\n\r\n      try {\r\n        const userId = localStorage.getItem('userId');\r\n        await axios.patch(`/cards/${this.currentCard._id}/rate`, {\r\n          rating,\r\n          userId,\r\n        }, {\r\n          params: { userId },\r\n        });\r\n\r\n        // Move to next card after a short delay\r\n        setTimeout(() => {\r\n          this.nextCard();\r\n        }, 300);\r\n      } catch (error) {\r\n        console.error('Error rating card:', error);\r\n        alert(error.response?.data?.message || 'Error rating card');\r\n        this.ratingInProgress = false;\r\n        this.selectedRating = null;\r\n      }\r\n    },\r\n    nextCard() {\r\n      this.ratingInProgress = false;\r\n      this.selectedRating = null;\r\n      this.isFlipped = false;\r\n\r\n      // Move to next card\r\n      if (this.currentCardIndex < this.cards.length - 1) {\r\n        this.currentCardIndex++;\r\n      } else {\r\n        // All cards reviewed, shuffle and start over\r\n        this.cards = this.shuffleArray([...this.cards]);\r\n        this.currentCardIndex = 0;\r\n      }\r\n    },\r\n    handleKeyPress(event) {\r\n      // Don't handle if typing in an input field\r\n      if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA') {\r\n        return;\r\n      }\r\n\r\n      // Space to flip card\r\n      if (event.key === ' ' && !this.isFlipped) {\r\n        event.preventDefault();\r\n        this.flipCard();\r\n        return;\r\n      }\r\n\r\n      // Number keys 1-4 to rate card (only when flipped)\r\n      if (this.isFlipped && !this.ratingInProgress) {\r\n        if (event.key === '1') {\r\n          event.preventDefault();\r\n          this.rateCard(1);\r\n        } else if (event.key === '2') {\r\n          event.preventDefault();\r\n          this.rateCard(2);\r\n        } else if (event.key === '3') {\r\n          event.preventDefault();\r\n          this.rateCard(3);\r\n        } else if (event.key === '4') {\r\n          event.preventDefault();\r\n          this.rateCard(4);\r\n        }\r\n      }\r\n    },\r\n    goBack() {\r\n      this.$router.push(`/decks/${this.$route.params.deckId}/edit`);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.study-page {\r\n  padding: 40px 20px;\r\n  min-height: calc(100vh - 100px);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.study-container {\r\n  max-width: 900px;\r\n  width: 100%;\r\n}\r\n\r\n.study-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 40px;\r\n  padding: 16px 24px;\r\n  background: linear-gradient(135deg, #1a2e24 0%, #1f3a2e 100%);\r\n  border: 1px solid #2d4a3a;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n.back-btn {\r\n  padding: 10px 20px;\r\n  background-color: #2d4a3a;\r\n  color: #a5d6a7;\r\n  border: 1px solid #3d5a4a;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.back-btn:hover {\r\n  background-color: #3d5a4a;\r\n  border-color: #4d6a5a;\r\n}\r\n\r\n.progress-info {\r\n  color: #81c784;\r\n  font-weight: 600;\r\n  font-size: 15px;\r\n}\r\n\r\n.loading,\r\n.no-cards {\r\n  text-align: center;\r\n  padding: 60px 40px;\r\n  color: #81c784;\r\n}\r\n\r\n.study-interface {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 30px;\r\n}\r\n\r\n/* Card Display */\r\n.card-display {\r\n  width: 100%;\r\n  max-width: 600px;\r\n  height: 400px;\r\n  perspective: 1000px;\r\n}\r\n\r\n.card-inner {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  transition: transform 0.6s;\r\n  transform-style: preserve-3d;\r\n}\r\n\r\n.card-display.flipped .card-inner {\r\n  transform: rotateY(180deg);\r\n}\r\n\r\n.card-front,\r\n.card-back {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  backface-visibility: hidden;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.card-front {\r\n  background: linear-gradient(135deg, #1a5f3f 0%, #2d7a52 100%);\r\n  color: white;\r\n  border: 2px solid #3d9b6a;\r\n}\r\n\r\n.card-back {\r\n  background: linear-gradient(135deg, #2d7a52 0%, #3d9b6a 100%);\r\n  color: white;\r\n  transform: rotateY(180deg);\r\n  border: 2px solid #4caf50;\r\n}\r\n\r\n.card-content {\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n\r\n.card-label {\r\n  font-size: 14px;\r\n  opacity: 0.9;\r\n  margin-bottom: 15px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 1px;\r\n}\r\n\r\n.card-text {\r\n  font-size: 24px;\r\n  line-height: 1.6;\r\n  word-wrap: break-word;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n/* Action Section */\r\n.action-section {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.flip-btn {\r\n  padding: 16px 48px;\r\n  background: linear-gradient(135deg, #2d7a52 0%, #3d9b6a 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 12px;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 6px;\r\n  box-shadow: 0 4px 16px rgba(45, 122, 82, 0.4);\r\n}\r\n\r\n.flip-btn:hover {\r\n  background: linear-gradient(135deg, #3d9b6a 0%, #4caf50 100%);\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 20px rgba(45, 122, 82, 0.5);\r\n}\r\n\r\n.keyboard-hint {\r\n  font-size: 12px;\r\n  opacity: 0.8;\r\n  font-weight: normal;\r\n}\r\n\r\n/* Rating Section */\r\n.rating-section {\r\n  width: 100%;\r\n  max-width: 600px;\r\n}\r\n\r\n.rating-prompt {\r\n  text-align: center;\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  color: #c8e6c9;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.rating-buttons {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  gap: 16px;\r\n}\r\n\r\n.rating-btn {\r\n  padding: 24px 16px;\r\n  border: 3px solid #2d4a3a;\r\n  border-radius: 12px;\r\n  background: linear-gradient(135deg, #0f1f17 0%, #1a2e24 100%);\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 10px;\r\n  font-weight: 600;\r\n}\r\n\r\n.rating-btn:hover {\r\n  transform: translateY(-3px);\r\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n.rating-btn.again {\r\n  border-color: #ef5350;\r\n  color: #ef5350;\r\n}\r\n\r\n.rating-btn.again:hover,\r\n.rating-btn.again.active {\r\n  background: linear-gradient(135deg, #c62828 0%, #ef5350 100%);\r\n  color: white;\r\n  border-color: #f44336;\r\n  box-shadow: 0 6px 20px rgba(239, 83, 80, 0.4);\r\n}\r\n\r\n.rating-btn.hard {\r\n  border-color: #ff9800;\r\n  color: #ff9800;\r\n}\r\n\r\n.rating-btn.hard:hover,\r\n.rating-btn.hard.active {\r\n  background: linear-gradient(135deg, #f57c00 0%, #ff9800 100%);\r\n  color: white;\r\n  border-color: #ffa726;\r\n  box-shadow: 0 6px 20px rgba(255, 152, 0, 0.4);\r\n}\r\n\r\n.rating-btn.good {\r\n  border-color: #4caf50;\r\n  color: #4caf50;\r\n}\r\n\r\n.rating-btn.good:hover,\r\n.rating-btn.good.active {\r\n  background: linear-gradient(135deg, #2d7a52 0%, #4caf50 100%);\r\n  color: white;\r\n  border-color: #66bb6a;\r\n  box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);\r\n}\r\n\r\n.rating-btn.easy {\r\n  border-color: #2196f3;\r\n  color: #2196f3;\r\n}\r\n\r\n.rating-btn.easy:hover,\r\n.rating-btn.easy.active {\r\n  background: linear-gradient(135deg, #1976d2 0%, #2196f3 100%);\r\n  color: white;\r\n  border-color: #42a5f5;\r\n  box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);\r\n}\r\n\r\n.rating-number {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n}\r\n\r\n.rating-label {\r\n  font-size: 14px;\r\n}\r\n\r\n/* Keyboard Help */\r\n.keyboard-help {\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  background-color: #f5f5f5;\r\n  border-radius: 8px;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  color: #666;\r\n}\r\n\r\n.keyboard-help p {\r\n  margin: 5px 0;\r\n}\r\n\r\nkeyboard-help kbd {\r\n  background-color: #fff;\r\n  border: 1px solid #ccc;\r\n  border-radius: 3px;\r\n  padding: 2px 6px;\r\n  font-family: monospace;\r\n  font-size: 12px;\r\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\nkbd {\r\n  background-color: #fff;\r\n  border: 1px solid #ccc;\r\n  border-radius: 3px;\r\n  padding: 2px 6px;\r\n  font-family: monospace;\r\n  font-size: 12px;\r\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\r\n}\r\n</style>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}