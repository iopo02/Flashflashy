{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, withKeys as _withKeys, normalizeClass as _normalizeClass, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"admin-panel\"\n};\nconst _hoisted_2 = {\n  class: \"admin-container\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"auth-section\"\n};\nconst _hoisted_4 = {\n  class: \"auth-form\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"error-message\"\n};\nconst _hoisted_6 = {\n  class: \"login-prompt\"\n};\nconst _hoisted_7 = {\n  class: \"panel-header\"\n};\nconst _hoisted_8 = {\n  class: \"welcome-text\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_10 = {\n  class: \"users-table-container\"\n};\nconst _hoisted_11 = {\n  class: \"table-header\"\n};\nconst _hoisted_12 = {\n  class: \"users-table\"\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"edit-username\"\n};\nconst _hoisted_14 = [\"onKeyup\"];\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = {\n  key: 1\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"admin-badge\"\n};\nconst _hoisted_18 = {\n  key: 1,\n  class: \"user-badge\"\n};\nconst _hoisted_19 = {\n  class: \"actions-cell\"\n};\nconst _hoisted_20 = [\"onClick\"];\nconst _hoisted_21 = [\"onClick\"];\nconst _hoisted_22 = [\"onClick\"];\nconst _hoisted_23 = {\n  key: 2,\n  class: \"success-message\"\n};\nconst _hoisted_24 = {\n  key: 3,\n  class: \"error-message\"\n};\nconst _hoisted_25 = {\n  class: \"modal-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[16] || (_cache[16] = _createElementVNode(\"h1\", null, \"Admin Panel\", -1 /* CACHED */)), _createCommentVNode(\" Admin Authentication \"), !$data.currentUserId ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[13] || (_cache[13] = _createElementVNode(\"h2\", null, \"Admin Access Required\", -1 /* CACHED */)), _cache[14] || (_cache[14] = _createElementVNode(\"p\", {\n    class: \"help-text\"\n  }, \"You must be logged in as an admin to access this panel.\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.userIdInput = $event),\n    type: \"text\",\n    placeholder: \"Enter your user ID (if not logged in)\",\n    class: \"user-id-input\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.userIdInput]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.authenticate && $options.authenticate(...args)),\n    class: \"auth-btn\"\n  }, \"Access Panel\")]), $data.authError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString($data.authError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"p\", null, [_cache[12] || (_cache[12] = _createTextVNode(\"Not logged in? \", -1 /* CACHED */)), _createVNode(_component_router_link, {\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => [...(_cache[11] || (_cache[11] = [_createTextVNode(\"Login here\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })])])])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Admin Panel Content \"), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"p\", _hoisted_8, \"Welcome, Admin! Managing users as: \" + _toDisplayString($data.currentUserId), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.logout && $options.logout(...args)),\n    class: \"logout-btn\"\n  }, \"Logout\")]), _createCommentVNode(\" Loading State \"), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, \"Loading users...\")) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Users Table \"), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"h2\", null, \"All Users (\" + _toDisplayString($data.users.length) + \")\", 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.fetchUsers && $options.fetchUsers(...args)),\n    class: \"refresh-btn\"\n  }, \"Refresh\")]), _createElementVNode(\"table\", _hoisted_12, [_cache[15] || (_cache[15] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Username\"), _createElementVNode(\"th\", null, \"Email\"), _createElementVNode(\"th\", null, \"Admin\"), _createElementVNode(\"th\", null, \"Created\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.users, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user._id,\n      class: _normalizeClass({\n        'admin-row': user.isAdmin\n      })\n    }, [_createElementVNode(\"td\", null, [$data.editingUserId === user._id ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.editUsernameValue = $event),\n      type: \"text\",\n      class: \"username-input\",\n      onKeyup: [_withKeys($event => $options.saveUsername(user._id), [\"enter\"]), _cache[5] || (_cache[5] = _withKeys((...args) => $options.cancelEdit && $options.cancelEdit(...args), [\"esc\"]))]\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_14), [[_vModelText, $data.editUsernameValue]]), _createElementVNode(\"button\", {\n      onClick: $event => $options.saveUsername(user._id),\n      class: \"save-btn\"\n    }, \"Save\", 8 /* PROPS */, _hoisted_15), _createElementVNode(\"button\", {\n      onClick: _cache[6] || (_cache[6] = (...args) => $options.cancelEdit && $options.cancelEdit(...args)),\n      class: \"cancel-btn\"\n    }, \"Cancel\")])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_16, _toDisplayString(user.username), 1 /* TEXT */))]), _createElementVNode(\"td\", null, _toDisplayString(user.email), 1 /* TEXT */), _createElementVNode(\"td\", null, [user.isAdmin ? (_openBlock(), _createElementBlock(\"span\", _hoisted_17, \"Admin\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_18, \"User\"))]), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(user.createdAt)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_19, [$data.editingUserId !== user._id ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $event => $options.startEditUsername(user),\n      class: \"action-btn edit-btn\"\n    }, \" Edit Username \", 8 /* PROPS */, _hoisted_20)) : _createCommentVNode(\"v-if\", true), user._id !== $data.currentUserId ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      onClick: $event => $options.confirmDelete(user),\n      class: \"action-btn delete-btn\"\n    }, \" Delete \", 8 /* PROPS */, _hoisted_21)) : _createCommentVNode(\"v-if\", true), user._id !== $data.currentUserId ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 2,\n      onClick: $event => $options.toggleAdmin(user),\n      class: \"action-btn admin-toggle-btn\"\n    }, _toDisplayString(user.isAdmin ? 'Remove Admin' : 'Make Admin'), 9 /* TEXT, PROPS */, _hoisted_22)) : _createCommentVNode(\"v-if\", true)])], 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */))])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" Success/Error Messages \"), $data.successMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, _toDisplayString($data.successMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $data.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, _toDisplayString($data.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]), _createCommentVNode(\" Delete Confirmation Modal \"), $data.userToDelete ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"modal-overlay\",\n    onClick: _cache[10] || (_cache[10] = (...args) => $options.cancelDelete && $options.cancelDelete(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"modal\",\n    onClick: _cache[9] || (_cache[9] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_cache[19] || (_cache[19] = _createElementVNode(\"h3\", null, \"Confirm Delete\", -1 /* CACHED */)), _createElementVNode(\"p\", null, [_cache[17] || (_cache[17] = _createTextVNode(\"Are you sure you want to delete user \", -1 /* CACHED */)), _createElementVNode(\"strong\", null, _toDisplayString($data.userToDelete.username), 1 /* TEXT */), _cache[18] || (_cache[18] = _createTextVNode(\"?\", -1 /* CACHED */))]), _cache[20] || (_cache[20] = _createElementVNode(\"p\", {\n    class: \"warning\"\n  }, \"This will permanently delete the user and all their decks and cards.\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"button\", {\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.deleteUser && $options.deleteUser(...args)),\n    class: \"confirm-delete-btn\"\n  }, \"Delete\"), _createElementVNode(\"button\", {\n    onClick: _cache[8] || (_cache[8] = (...args) => $options.cancelDelete && $options.cancelDelete(...args)),\n    class: \"cancel-btn\"\n  }, \"Cancel\")])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","$data","currentUserId","_hoisted_3","_hoisted_4","userIdInput","$event","type","placeholder","onClick","_cache","args","$options","authenticate","authError","_hoisted_5","_toDisplayString","_hoisted_6","_createVNode","_component_router_link","to","_Fragment","key","_hoisted_7","_hoisted_8","logout","loading","_hoisted_9","_hoisted_10","_hoisted_11","users","length","fetchUsers","_hoisted_12","_renderList","user","_id","_normalizeClass","isAdmin","editingUserId","_hoisted_13","editUsernameValue","onKeyup","saveUsername","cancelEdit","_hoisted_15","_hoisted_16","username","email","_hoisted_17","_hoisted_18","formatDate","createdAt","_hoisted_19","startEditUsername","_hoisted_20","confirmDelete","_hoisted_21","toggleAdmin","_hoisted_22","successMessage","_hoisted_23","errorMessage","_hoisted_24","userToDelete","cancelDelete","_withModifiers","_hoisted_25","deleteUser"],"sources":["C:\\Users\\compu\\Desktop\\Flashflashy\\frontend\\src\\views\\AdminPanel.vue"],"sourcesContent":["<template>\r\n  <div class=\"admin-panel\">\r\n    <div class=\"admin-container\">\r\n      <h1>Admin Panel</h1>\r\n      \r\n      <!-- Admin Authentication -->\r\n      <div v-if=\"!currentUserId\" class=\"auth-section\">\r\n        <h2>Admin Access Required</h2>\r\n        <p class=\"help-text\">You must be logged in as an admin to access this panel.</p>\r\n        <div class=\"auth-form\">\r\n          <input\r\n            v-model=\"userIdInput\"\r\n            type=\"text\"\r\n            placeholder=\"Enter your user ID (if not logged in)\"\r\n            class=\"user-id-input\"\r\n          />\r\n          <button @click=\"authenticate\" class=\"auth-btn\">Access Panel</button>\r\n        </div>\r\n        <div v-if=\"authError\" class=\"error-message\">{{ authError }}</div>\r\n        <div class=\"login-prompt\">\r\n          <p>Not logged in? <router-link to=\"/login\">Login here</router-link></p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Admin Panel Content -->\r\n      <div v-else>\r\n        <div class=\"panel-header\">\r\n          <p class=\"welcome-text\">Welcome, Admin! Managing users as: {{ currentUserId }}</p>\r\n          <button @click=\"logout\" class=\"logout-btn\">Logout</button>\r\n        </div>\r\n\r\n        <!-- Loading State -->\r\n        <div v-if=\"loading\" class=\"loading\">Loading users...</div>\r\n\r\n        <!-- Users Table -->\r\n        <div v-else class=\"users-table-container\">\r\n          <div class=\"table-header\">\r\n            <h2>All Users ({{ users.length }})</h2>\r\n            <button @click=\"fetchUsers\" class=\"refresh-btn\">Refresh</button>\r\n          </div>\r\n\r\n          <table class=\"users-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Username</th>\r\n                <th>Email</th>\r\n                <th>Admin</th>\r\n                <th>Created</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"user in users\" :key=\"user._id\" :class=\"{ 'admin-row': user.isAdmin }\">\r\n                <td>\r\n                  <div v-if=\"editingUserId === user._id\" class=\"edit-username\">\r\n                    <input\r\n                      v-model=\"editUsernameValue\"\r\n                      type=\"text\"\r\n                      class=\"username-input\"\r\n                      @keyup.enter=\"saveUsername(user._id)\"\r\n                      @keyup.esc=\"cancelEdit\"\r\n                    />\r\n                    <button @click=\"saveUsername(user._id)\" class=\"save-btn\">Save</button>\r\n                    <button @click=\"cancelEdit\" class=\"cancel-btn\">Cancel</button>\r\n                  </div>\r\n                  <span v-else>{{ user.username }}</span>\r\n                </td>\r\n                <td>{{ user.email }}</td>\r\n                <td>\r\n                  <span v-if=\"user.isAdmin\" class=\"admin-badge\">Admin</span>\r\n                  <span v-else class=\"user-badge\">User</span>\r\n                </td>\r\n                <td>{{ formatDate(user.createdAt) }}</td>\r\n                <td class=\"actions-cell\">\r\n                  <button\r\n                    v-if=\"editingUserId !== user._id\"\r\n                    @click=\"startEditUsername(user)\"\r\n                    class=\"action-btn edit-btn\"\r\n                  >\r\n                    Edit Username\r\n                  </button>\r\n                  <button\r\n                    v-if=\"user._id !== currentUserId\"\r\n                    @click=\"confirmDelete(user)\"\r\n                    class=\"action-btn delete-btn\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                  <button\r\n                    v-if=\"user._id !== currentUserId\"\r\n                    @click=\"toggleAdmin(user)\"\r\n                    class=\"action-btn admin-toggle-btn\"\r\n                  >\r\n                    {{ user.isAdmin ? 'Remove Admin' : 'Make Admin' }}\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <!-- Success/Error Messages -->\r\n        <div v-if=\"successMessage\" class=\"success-message\">{{ successMessage }}</div>\r\n        <div v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Delete Confirmation Modal -->\r\n    <div v-if=\"userToDelete\" class=\"modal-overlay\" @click=\"cancelDelete\">\r\n      <div class=\"modal\" @click.stop>\r\n        <h3>Confirm Delete</h3>\r\n        <p>Are you sure you want to delete user <strong>{{ userToDelete.username }}</strong>?</p>\r\n        <p class=\"warning\">This will permanently delete the user and all their decks and cards.</p>\r\n        <div class=\"modal-actions\">\r\n          <button @click=\"deleteUser\" class=\"confirm-delete-btn\">Delete</button>\r\n          <button @click=\"cancelDelete\" class=\"cancel-btn\">Cancel</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'AdminPanel',\r\n  data() {\r\n    return {\r\n      userIdInput: '',\r\n      currentUserId: null,\r\n      users: [],\r\n      loading: false,\r\n      editingUserId: null,\r\n      editUsernameValue: '',\r\n      userToDelete: null,\r\n      successMessage: '',\r\n      errorMessage: '',\r\n      authError: '',\r\n    };\r\n  },\r\n  mounted() {\r\n    // First try to use logged-in user if they're admin\r\n    if (!this.checkLoggedInUser()) {\r\n      // Fallback to adminUserId if available (for backward compatibility)\r\n      const storedUserId = localStorage.getItem('adminUserId');\r\n      if (storedUserId) {\r\n        this.currentUserId = storedUserId;\r\n        this.fetchUsers();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async authenticate() {\r\n      if (!this.userIdInput.trim()) {\r\n        this.authError = 'Please enter a user ID';\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Try to fetch users to verify admin status\r\n        await axios.get('/admin/users', {\r\n          params: { userId: this.userIdInput.trim() },\r\n        });\r\n\r\n        this.currentUserId = this.userIdInput.trim();\r\n        localStorage.setItem('adminUserId', this.currentUserId);\r\n        this.authError = '';\r\n        this.fetchUsers();\r\n      } catch (error) {\r\n        if (error.response?.status === 403) {\r\n          this.authError = 'Access denied. You must be an admin.';\r\n        } else if (error.response?.status === 404) {\r\n          this.authError = 'User not found.';\r\n        } else {\r\n          this.authError = 'Error authenticating. Please check your user ID.';\r\n        }\r\n      }\r\n    },\r\n    checkLoggedInUser() {\r\n      // Check if user is logged in and is admin\r\n      const userStr = localStorage.getItem('user');\r\n      if (userStr) {\r\n        try {\r\n          const user = JSON.parse(userStr);\r\n          if (user.isAdmin && user.id) {\r\n            this.currentUserId = user.id;\r\n            this.fetchUsers();\r\n            return true;\r\n          }\r\n        } catch (error) {\r\n          console.error('Error parsing user data:', error);\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    logout() {\r\n      this.currentUserId = null;\r\n      this.userIdInput = '';\r\n      localStorage.removeItem('adminUserId');\r\n      this.users = [];\r\n    },\r\n    async fetchUsers() {\r\n      this.loading = true;\r\n      this.errorMessage = '';\r\n      this.successMessage = '';\r\n\r\n      try {\r\n        const response = await axios.get('/admin/users', {\r\n          params: { userId: this.currentUserId },\r\n        });\r\n        this.users = response.data.users;\r\n      } catch (error) {\r\n        if (error.response?.status === 403) {\r\n          this.errorMessage = 'Access denied. Admin privileges required.';\r\n          this.logout();\r\n        } else {\r\n          this.errorMessage = 'Error fetching users. Please try again.';\r\n        }\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    startEditUsername(user) {\r\n      this.editingUserId = user._id;\r\n      this.editUsernameValue = user.username;\r\n    },\r\n    cancelEdit() {\r\n      this.editingUserId = null;\r\n      this.editUsernameValue = '';\r\n    },\r\n    async saveUsername(userId) {\r\n      if (!this.editUsernameValue.trim() || this.editUsernameValue.trim().length < 3) {\r\n        this.errorMessage = 'Username must be at least 3 characters';\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await axios.patch(\r\n          `/admin/users/${userId}/username`,\r\n          { username: this.editUsernameValue.trim() },\r\n          { params: { userId: this.currentUserId } }\r\n        );\r\n\r\n        this.successMessage = 'Username updated successfully';\r\n        this.cancelEdit();\r\n        await this.fetchUsers();\r\n        setTimeout(() => {\r\n          this.successMessage = '';\r\n        }, 3000);\r\n      } catch (error) {\r\n        this.errorMessage = error.response?.data?.message || 'Error updating username';\r\n        setTimeout(() => {\r\n          this.errorMessage = '';\r\n        }, 3000);\r\n      }\r\n    },\r\n    confirmDelete(user) {\r\n      this.userToDelete = user;\r\n    },\r\n    cancelDelete() {\r\n      this.userToDelete = null;\r\n    },\r\n    async deleteUser() {\r\n      if (!this.userToDelete) return;\r\n\r\n      try {\r\n        await axios.delete(`/admin/users/${this.userToDelete._id}`, {\r\n          params: { userId: this.currentUserId },\r\n        });\r\n\r\n        this.successMessage = 'User deleted successfully';\r\n        this.userToDelete = null;\r\n        await this.fetchUsers();\r\n        setTimeout(() => {\r\n          this.successMessage = '';\r\n        }, 3000);\r\n      } catch (error) {\r\n        this.errorMessage = error.response?.data?.message || 'Error deleting user';\r\n        this.userToDelete = null;\r\n        setTimeout(() => {\r\n          this.errorMessage = '';\r\n        }, 3000);\r\n      }\r\n    },\r\n    async toggleAdmin(user) {\r\n      try {\r\n        await axios.patch(\r\n          `/admin/users/${user._id}/admin`,\r\n          { isAdmin: !user.isAdmin },\r\n          { params: { userId: this.currentUserId } }\r\n        );\r\n\r\n        this.successMessage = `User ${!user.isAdmin ? 'promoted to' : 'removed from'} admin`;\r\n        await this.fetchUsers();\r\n        setTimeout(() => {\r\n          this.successMessage = '';\r\n        }, 3000);\r\n      } catch (error) {\r\n        this.errorMessage = error.response?.data?.message || 'Error updating admin status';\r\n        setTimeout(() => {\r\n          this.errorMessage = '';\r\n        }, 3000);\r\n      }\r\n    },\r\n    formatDate(dateString) {\r\n      if (!dateString) return 'N/A';\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.admin-panel {\r\n  padding: 20px;\r\n  min-height: calc(100vh - 200px);\r\n}\r\n\r\n.admin-container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  padding: 30px;\r\n}\r\n\r\nh1 {\r\n  color: #2c3e50;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.auth-section {\r\n  text-align: center;\r\n  padding: 40px 20px;\r\n}\r\n\r\n.auth-section h2 {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.help-text {\r\n  color: #666;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.auth-form {\r\n  display: flex;\r\n  gap: 10px;\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.user-id-input {\r\n  flex: 1;\r\n  padding: 12px;\r\n  border: 2px solid #e0e0e0;\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n}\r\n\r\n.auth-btn,\r\n.logout-btn,\r\n.refresh-btn {\r\n  padding: 12px 24px;\r\n  background-color: #42b983;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n}\r\n\r\n.auth-btn:hover,\r\n.refresh-btn:hover {\r\n  background-color: #35a372;\r\n}\r\n\r\n.logout-btn {\r\n  background-color: #e74c3c;\r\n}\r\n\r\n.logout-btn:hover {\r\n  background-color: #c0392b;\r\n}\r\n\r\n.panel-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 15px;\r\n  border-bottom: 2px solid #e0e0e0;\r\n}\r\n\r\n.welcome-text {\r\n  color: #666;\r\n  font-weight: 500;\r\n}\r\n\r\n.loading {\r\n  text-align: center;\r\n  padding: 40px;\r\n  color: #666;\r\n}\r\n\r\n.table-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.table-header h2 {\r\n  margin: 0;\r\n  color: #2c3e50;\r\n}\r\n\r\n.users-table-container {\r\n  overflow-x: auto;\r\n}\r\n\r\n.users-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 10px;\r\n}\r\n\r\n.users-table th {\r\n  background-color: #f5f5f5;\r\n  padding: 12px;\r\n  text-align: left;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n  border-bottom: 2px solid #e0e0e0;\r\n}\r\n\r\n.users-table td {\r\n  padding: 12px;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.users-table tr:hover {\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n.admin-row {\r\n  background-color: #fff9e6;\r\n}\r\n\r\n.admin-badge {\r\n  display: inline-block;\r\n  padding: 4px 8px;\r\n  background-color: #f39c12;\r\n  color: white;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n}\r\n\r\n.user-badge {\r\n  display: inline-block;\r\n  padding: 4px 8px;\r\n  background-color: #95a5a6;\r\n  color: white;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n}\r\n\r\n.actions-cell {\r\n  display: flex;\r\n  gap: 8px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.action-btn {\r\n  padding: 6px 12px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n}\r\n\r\n.edit-btn {\r\n  background-color: #3498db;\r\n  color: white;\r\n}\r\n\r\n.edit-btn:hover {\r\n  background-color: #2980b9;\r\n}\r\n\r\n.delete-btn {\r\n  background-color: #e74c3c;\r\n  color: white;\r\n}\r\n\r\n.delete-btn:hover {\r\n  background-color: #c0392b;\r\n}\r\n\r\n.admin-toggle-btn {\r\n  background-color: #9b59b6;\r\n  color: white;\r\n}\r\n\r\n.admin-toggle-btn:hover {\r\n  background-color: #8e44ad;\r\n}\r\n\r\n.edit-username {\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n}\r\n\r\n.username-input {\r\n  padding: 6px;\r\n  border: 2px solid #3498db;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n}\r\n\r\n.save-btn {\r\n  padding: 6px 12px;\r\n  background-color: #42b983;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n}\r\n\r\n.cancel-btn {\r\n  padding: 6px 12px;\r\n  background-color: #95a5a6;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n}\r\n\r\n.success-message {\r\n  margin-top: 15px;\r\n  padding: 12px;\r\n  background-color: #d4edda;\r\n  color: #155724;\r\n  border-radius: 4px;\r\n  border: 1px solid #c3e6cb;\r\n}\r\n\r\n.error-message {\r\n  margin-top: 15px;\r\n  padding: 12px;\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n  border-radius: 4px;\r\n  border: 1px solid #f5c6cb;\r\n}\r\n\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal {\r\n  background: white;\r\n  padding: 30px;\r\n  border-radius: 8px;\r\n  max-width: 400px;\r\n  width: 90%;\r\n}\r\n\r\n.modal h3 {\r\n  margin-top: 0;\r\n  color: #2c3e50;\r\n}\r\n\r\n.warning {\r\n  color: #e74c3c;\r\n  font-weight: 500;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.confirm-delete-btn {\r\n  padding: 10px 20px;\r\n  background-color: #e74c3c;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n}\r\n\r\n.confirm-delete-btn:hover {\r\n  background-color: #c0392b;\r\n}\r\n</style>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}